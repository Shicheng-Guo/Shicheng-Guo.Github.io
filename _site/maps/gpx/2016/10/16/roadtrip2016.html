

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>USA/ Canada Roadtrip 2016</title>
    
    <meta name="author" content="Shirin Glander">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
	  
    <!-- Fav and touch icons -->
    <!-- Update these with your own images      -->
      <link rel="shortcut icon" type="image/x-icon" href="http://localhost:4000/assets/images/iconified/favicon.ico">
      <!-- <link rel="shortcut icon" type="image/png" href="http://localhost:4000/assets/images/iconified/apple-touch-icon.png"> -->
      <link rel="apple-touch-icon" type="image/png" href="http://localhost:4000/assets/images/iconified/apple-touch-icon.png">
      <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="http://localhost:4000/images/iconified/apple-touch-icon-76x76.png">
      <link rel="apple-touch-icon" type="image/png" sizes="114x114" href="http://localhost:4000/images/iconified/apple-touch-icon-114x114.png">

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
  </head>
  
 <div class="header">
      <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-brand" href="/">Shirin's playgRound</a> -->
		  <a class="navbar-brand" href="/"><img src="https://raw.githubusercontent.com/ShirinG/ShirinG.github.io/master/assets/images/logo.png" alt="logo" />Shirin's playgRound</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/about">About me</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories">Categories</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/feeds">Feeds</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags">Tags</a></li>
      	
      
    
  
    
  
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

    </div>
</div>

  <body>
    <div id="wrap">
      <div class="container">
        

<div class="page-header">
  <h1>USA/ Canada Roadtrip 2016 </h1>
</div>

<!-- Paste the 3 next lines where you want the sharing button(s) to appear -->
    <div class="post-sharing">
     

  
  		<div id="fb-root"></div>

<ul class="post-share ulno mob">

<!-- Twitter -->
<li class="tw"><a href="https://twitter.com/share" class="twitter-share-button" data-text="USA/ Canada Roadtrip 2016" data-via="" data-related="" data-count="" data-size="">Tweet</a>

<!-- Google+ -->
<li class="gp"><div class="g-plusone" data-size="medium" data-annotation="bubble" data-width=""></div>

<!-- Facebook -->
<li class="fb"><div class="fb-like" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false" data-font=""></div>

<!-- Reddit -->
<li><script type="text/javascript" src="http://www.reddit.com/buttonlite.js?i=4"></script>
</ul>

<script>
  
(function(doc, script) {
 	
    // Async Social Buttons
    var js, 
        fjs = doc.getElementsByTagName(script)[0],
        add = function(url, id) {
            if (doc.getElementById(id)) {return;}
            js = doc.createElement(script);
            js.src = url;
            id && (js.id = id);
            fjs.parentNode.insertBefore(js, fjs);
        };

    // Twitter SDK
    add('//platform.twitter.com/widgets.js', 'twitter-wjs');
    
    // Google+ button
    add('https://apis.google.com/js/plusone.js');
    
    // Facebook SDK
    add('https://connect.facebook.net/en_GB/all.js#xfbml=1&appId=1424112504267565', 'facebook-jssdk');
    
}(document, 'script'));

</script>
  



    </div>

<div class="row post-full">
  <div class="col-xs-12">
    <div class="date">
      <span>16 October 2016</span>
    </div>
    <div class="content">
      <h1 id="mapping-gps-data-from-our-usa-canada-roadtrip">Mapping GPS data from our USA/ Canada Roadtrip</h1>

<p>This September we went on a roadtrip to the US and Canada. 
Of course, we had our trusty GPS to guide us along the way - the data from which I downloaded and used to play around with.</p>

<p>(If you want to see a few photos from the trip and don’t care about the rest, skip to the bottom…)</p>

<p><br /></p>

<h2 id="loading-the-data">Loading the data</h2>

<p>I used the <strong>XML</strong> package to load the gpx files following <a href="https://www.r-bloggers.com/stay-on-track-plotting-gps-tracks-with-r/">this blog post</a>.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">XML</span><span class="p">)</span><span class="w">

</span><span class="n">myfiles</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">list.files</span><span class="p">(</span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"../gpx/gpx_files"</span><span class="p">,</span><span class="w"> </span><span class="n">full.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">myfiles</span><span class="p">)){</span><span class="w">

  </span><span class="c1"># One of the files seems to be broken, but since the file is one with earlier data
</span><span class="w">  </span><span class="c1"># not from the trip, I will simply skip it
</span><span class="w">  </span><span class="n">tryCatch</span><span class="p">({</span><span class="w">
    </span><span class="n">pfile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">htmlTreeParse</span><span class="p">(</span><span class="n">myfiles</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">useInternalNodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">

  </span><span class="p">},</span><span class="w"> </span><span class="n">error</span><span class="o">=</span><span class="k">function</span><span class="p">(</span><span class="n">e</span><span class="p">){</span><span class="n">cat</span><span class="p">(</span><span class="s2">"ERROR\n"</span><span class="p">)})</span><span class="w">

  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exists</span><span class="p">(</span><span class="s2">"pfile"</span><span class="p">)){</span><span class="w">
    </span><span class="c1"># Get all elevations, times and coordinates via the respective xpath
</span><span class="w">    </span><span class="n">elevations</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt/ele"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlValue</span><span class="p">)))</span><span class="w">
    </span><span class="n">times</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt/time"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlValue</span><span class="p">)</span><span class="w">
    </span><span class="n">coords</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlAttrs</span><span class="p">)</span><span class="w">
    </span><span class="c1"># Extract latitude and longitude from the coordinates
</span><span class="w">    </span><span class="n">lats</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">,]))</span><span class="w">
    </span><span class="n">lons</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="s2">"lon"</span><span class="p">,]))</span><span class="w">
    </span><span class="c1"># Put everything in a dataframe and get rid of old variables
</span><span class="w">    </span><span class="n">geodf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lats</span><span class="p">,</span><span class="w"> </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lons</span><span class="p">,</span><span class="w"> </span><span class="n">ele</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">elevations</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">times</span><span class="p">)</span><span class="w">

    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="p">){</span><span class="w">
      </span><span class="n">geodata</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodf</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">geodata</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rbind</span><span class="p">(</span><span class="n">geodata</span><span class="p">,</span><span class="w"> </span><span class="n">geodf</span><span class="p">)</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="n">rm</span><span class="p">(</span><span class="n">pfile</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">geodata_all</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata</span><span class="w">
</span></code></pre>
</div>

<p><br /></p>

<p>I then did some cleaning of the date and time column and removed all the old track that were not part of our trip.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># Transforming the time column
</span><span class="n">geodata_all</span><span class="o">$</span><span class="n">time</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">strptime</span><span class="p">(</span><span class="n">geodata_all</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"%Y-%m-%dT%H:%M:%SZ"</span><span class="p">)</span><span class="w">

</span><span class="c1"># ordering by date
</span><span class="n">library</span><span class="p">(</span><span class="n">plyr</span><span class="p">)</span><span class="w">
</span><span class="n">geodata_all</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">arrange</span><span class="p">(</span><span class="n">geodata_all</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span><span class="w">

</span><span class="c1"># removing all tracks from Germany
</span><span class="n">geodata</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata_all</span><span class="p">[</span><span class="n">which</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_all</span><span class="o">$</span><span class="n">lon</span><span class="p">))</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">),]</span><span class="w">

</span><span class="c1"># adding a column with day for separating the plotting by day lateron
</span><span class="n">geodata</span><span class="o">$</span><span class="n">day</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">as.Date</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s2">"%Y-%m-%d"</span><span class="p">),</span><span class="w"> </span><span class="s2">"%d"</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>
<hr />

<p><br /></p>

<p>We have 119225 data points with a range from 2016-09-09 19:23:53 to 2016-09-23 21:36:06.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">summary</span><span class="p">(</span><span class="n">geodata</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>##       lat             lon              ele        
##  Min.   :36.99   Min.   :-88.68   Min.   :-26.78  
##  1st Qu.:40.09   1st Qu.:-84.86   1st Qu.:181.83  
##  Median :41.90   Median :-82.99   Median :198.65  
##  Mean   :41.27   Mean   :-82.76   Mean   :216.58  
##  3rd Qu.:42.33   3rd Qu.:-80.44   3rd Qu.:255.85  
##  Max.   :43.65   Max.   :-78.85   Max.   :438.02  
##                                                   
##       time                          day       
##  Min.   :2016-09-09 19:23:53   19     :17203  
##  1st Qu.:2016-09-12 12:14:47   12     :14455  
##  Median :2016-09-15 21:52:37   11     :14020  
##  Mean   :2016-09-15 22:35:18   10     :12061  
##  3rd Qu.:2016-09-19 15:59:09   16     :10856  
##  Max.   :2016-09-23 21:36:06   13     :10787  
##                                (Other):39843
</code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">geodata</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>## 'data.frame':    119225 obs. of  5 variables:
##  $ lat : num  42 42 42 42 42 ...
##  $ lon : num  -87.9 -87.9 -87.9 -87.9 -87.9 ...
##  $ ele : num  122 122 122 122 122 ...
##  $ time: POSIXlt, format: "2016-09-09 19:23:53" "2016-09-09 19:23:53" ...
##  $ day : Factor w/ 15 levels "09","10","11",..: 1 1 1 1 1 1 1 1 1 1 ...
</code></pre>
</div>

<hr />

<p><br /></p>

<h2 id="getting-additional-data-from-google-maps">Getting additional data from Google Maps</h2>

<p>Somehow the GPS didn’t record the last two days of our trip back to Chicago, so I added a few way points with the Google Maps Geocoding and Directions APIs (accessed via the <strong>googleway</strong> package).</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">googleway</span><span class="p">)</span><span class="w">

</span><span class="c1"># on th 26th we had lunch at cracker barrel
</span><span class="n">cracker_barrel</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2101 N Kenyon Rd, Urbana, IL 61802, USA"</span><span class="p">,</span><span class="w">
                                 </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                                 </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                                 </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">cracker_barrel_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cracker_barrel</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                  </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cracker_barrel</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                                  </span><span class="n">ele</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="s2">"2016-09-26 19:00:00"</span><span class="p">))</span><span class="w">

</span><span class="c1"># then we stayed the night in Aurora/ Naperville
</span><span class="n">super8</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"4228 Longmeadow Dr, Aurora, IL 60504, USA"</span><span class="p">,</span><span class="w">
                         </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                         </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                         </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">super8_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">super8</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                          </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">super8</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                          </span><span class="n">ele</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="s2">"2016-09-26 23:30:00"</span><span class="p">))</span><span class="w">

</span><span class="c1"># on the 27th we went back to the airport to fly home
</span><span class="n">ohare</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10000 W O'Hare Ave, Chicago, IL 60666, USA"</span><span class="p">,</span><span class="w">
                        </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                        </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                        </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">ohare_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ohare</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                         </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ohare</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                         </span><span class="n">ele</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="s2">"2016-09-27 18:00:00"</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<p><br /></p>

<p>Using only these three waypoints won’t plot nicely on a map because it will draw straight lines between the points.
So, I also want to get travel information from Google Maps between these points to get a few more waypoints along the actual route we drove.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1">## Route from Paducah to Cracker Barrel
</span><span class="w">
</span><span class="n">route_pad_cracker</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_directions</span><span class="p">(</span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">lat</span><span class="p">[</span><span class="n">nrow</span><span class="p">(</span><span class="n">geodata</span><span class="p">)],</span><span class="w"> </span><span class="n">geodata</span><span class="o">$</span><span class="n">lon</span><span class="p">[</span><span class="n">nrow</span><span class="p">(</span><span class="n">geodata</span><span class="p">)]),</span><span class="w">
                  </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                  </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"driving"</span><span class="p">,</span><span class="w">
                  </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                  </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                  </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">route_pad_cracker_legs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">route_pad_cracker</span><span class="o">$</span><span class="n">routes</span><span class="o">$</span><span class="n">legs</span><span class="p">)</span><span class="w">
</span><span class="n">route_pad_cracker_legs_steps</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">steps</span><span class="p">)</span><span class="w">

</span><span class="c1">## Route from Cracker Barrel to Aurora
</span><span class="w">
</span><span class="n">route_cracker_aurora</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_directions</span><span class="p">(</span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                                          </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">super8_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">super8_data</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                                          </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"driving"</span><span class="p">,</span><span class="w">
                                          </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                                          </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                                          </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">route_cracker_aurora_legs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">route_cracker_aurora</span><span class="o">$</span><span class="n">routes</span><span class="o">$</span><span class="n">legs</span><span class="p">)</span><span class="w">
</span><span class="n">route_cracker_aurora_legs_steps</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">steps</span><span class="p">)</span><span class="w">

</span><span class="c1">## Route from Cracker Aurora to O'Hare
</span><span class="w">
</span><span class="n">route_aurora_ohare</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_directions</span><span class="p">(</span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">super8_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">super8_data</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                                        </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">ohare_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">ohare_data</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                                        </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"driving"</span><span class="p">,</span><span class="w">
                                        </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                                        </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                                        </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">route_aurora_ohare_legs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">route_aurora_ohare</span><span class="o">$</span><span class="n">routes</span><span class="o">$</span><span class="n">legs</span><span class="p">)</span><span class="w">
</span><span class="n">route_aurora_ohare_legs_steps</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">steps</span><span class="p">)</span><span class="w">

</span><span class="c1"># Combining the data sets
</span><span class="n">geodata_2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                </span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">route_pad_cracker_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                </span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                </span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">route_cracker_aurora_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                </span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">super8_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                </span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">route_aurora_ohare_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                </span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">ohare_data</span><span class="o">$</span><span class="n">lat</span><span class="p">),</span><span class="w">
                      </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w"> </span><span class="n">route_pad_cracker_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                              </span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w"> </span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lon</span><span class="p">,</span><span class="w">
                              </span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w"> </span><span class="n">route_cracker_aurora_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                              </span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w"> </span><span class="n">super8_data</span><span class="o">$</span><span class="n">lon</span><span class="p">,</span><span class="w">
                              </span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w"> </span><span class="n">route_aurora_ohare_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                              </span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w"> </span><span class="n">ohare_data</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                      </span><span class="n">day</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="s2">"26"</span><span class="p">,</span><span class="w">
                                               </span><span class="nf">length</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                                        </span><span class="n">route_pad_cracker_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                                        </span><span class="n">route_pad_cracker_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">cracker_barrel_data</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                                        </span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                                        </span><span class="n">route_cracker_aurora_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                                        </span><span class="n">route_cracker_aurora_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">super8_data</span><span class="o">$</span><span class="n">lat</span><span class="p">))),</span><span class="w">
                              </span><span class="nf">rep</span><span class="p">(</span><span class="s2">"27"</span><span class="p">,</span><span class="w">
                                  </span><span class="nf">length</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">route_aurora_ohare_legs_steps</span><span class="o">$</span><span class="n">start_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                                           </span><span class="n">route_aurora_ohare_legs</span><span class="o">$</span><span class="n">end_location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">ohare_data</span><span class="o">$</span><span class="n">lat</span><span class="p">)))))</span><span class="w">
</span></code></pre>
</div>

<hr />

<p><br /></p>

<h2 id="plotting">Plotting</h2>

<p>I tried several packages for plotting but ended up with <strong>ggmap</strong> as the nicest looking solution.</p>

<p><br /></p>

<h3 id="overview-of-the-trip">Overview of the trip</h3>

<p>We flew to Chicago, went west across Michigan to Ann Arbor, Detroit, Toronto, then south again to Pittsburgh, from where we followed the Ohio river and headed to Louisville. From there, we went to Paducah, KY and back north again to Chicago. Each color shows a different day.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">ggmap</span><span class="p">)</span><span class="w">

</span><span class="n">bc_bbox</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">make_bbox</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_2</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">.10</span><span class="p">)</span><span class="w">
</span><span class="n">map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">get_map</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bc_bbox</span><span class="p">,</span><span class="w"> </span><span class="n">maptype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"roadmap"</span><span class="p">)</span><span class="w">

</span><span class="n">ggmap</span><span class="p">(</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="n">darken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="s2">"white"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">day</span><span class="p">)),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_path</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">day</span><span class="p">)),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_2</span><span class="p">[</span><span class="n">which</span><span class="p">(</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">day</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"26"</span><span class="p">,</span><span class="w"> </span><span class="s2">"27"</span><span class="p">)),</span><span class="w"> </span><span class="p">])</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme</span><span class="p">(</span><span class="n">legend.position</span><span class="o">=</span><span class="s2">"none"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Longitude"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s2">"Latitude"</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s2">"Roadtrip 2016"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="roadtrip2016_files/figure-markdown_github/unnamed-chunk-7-1.png" alt="" /></p>

<p><br /></p>

<h3 id="road-trip-with-stops">Road trip with stops</h3>

<p>First, I need to obtain the geocodes from the stops (again via Google Maps API).</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">chicago</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Chicago"</span><span class="p">,</span><span class="w">
                          </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                          </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                          </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">stjospeh</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"St. Joseph, MI"</span><span class="p">,</span><span class="w">
                          </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                          </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                          </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">annarbor</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Ann Arbor, MI"</span><span class="p">,</span><span class="w">
                           </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                           </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                           </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">detroit</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Detroit, MI"</span><span class="p">,</span><span class="w">
                           </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                           </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                           </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">burlington</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Burlington, ON"</span><span class="p">,</span><span class="w">
                          </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                          </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                          </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">ashtabula</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Ashtabula"</span><span class="p">,</span><span class="w">
                             </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                             </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                             </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">pittsburgh</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Pittsburgh"</span><span class="p">,</span><span class="w">
                            </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                            </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                            </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">marietta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Marietta, OH"</span><span class="p">,</span><span class="w">
                             </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                             </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                             </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">maysville</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Maysville, KY"</span><span class="p">,</span><span class="w">
                             </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                             </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                             </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">louisville</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Louisville, KY"</span><span class="p">,</span><span class="w">
                             </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                             </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                             </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">paducah</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_geocode</span><span class="p">(</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Paducah, KY"</span><span class="p">,</span><span class="w">
                             </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"your_key"</span><span class="p">,</span><span class="w">
                             </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                             </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">ann_text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">chicago</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">stjospeh</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">annarbor</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">detroit</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">burlington</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">ashtabula</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">pittsburgh</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">marietta</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">maysville</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">,</span><span class="w">
                             </span><span class="n">louisville</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="c1">#Maps found a second entry for the location
</span><span class="w">                             </span><span class="n">paducah</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lng</span><span class="p">),</span><span class="w">
                       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">chicago</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">stjospeh</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">annarbor</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">detroit</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="m">+0.1</span><span class="p">,</span><span class="w"> </span><span class="c1">#adjusting Detroit label to avoid overlapping with Ann Arbor
</span><span class="w">                             </span><span class="n">burlington</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">ashtabula</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">pittsburgh</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">marietta</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">maysville</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w">
                             </span><span class="n">louisville</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="w">
                             </span><span class="n">paducah</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">geometry</span><span class="o">$</span><span class="n">location</span><span class="o">$</span><span class="n">lat</span><span class="p">),</span><span class="w">
                       </span><span class="n">labs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">paste0</span><span class="p">(</span><span class="n">chicago</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">stjospeh</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">annarbor</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">detroit</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">burlington</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">ashtabula</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">pittsburgh</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">marietta</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">maysville</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">louisville</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">[</span><span class="m">1</span><span class="p">]),</span><span class="w">
                                </span><span class="n">paste0</span><span class="p">(</span><span class="n">paducah</span><span class="o">$</span><span class="n">results</span><span class="o">$</span><span class="n">formatted_address</span><span class="p">)</span><span class="w">
                                </span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">get_map</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bc_bbox</span><span class="p">,</span><span class="w"> </span><span class="n">maptype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"watercolor"</span><span class="p">)</span><span class="w">

</span><span class="n">roadtrip_map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggmap</span><span class="p">(</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="n">darken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="s2">"white"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">day</span><span class="p">)),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_2</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.3</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_path</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">day</span><span class="p">)),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_2</span><span class="p">[</span><span class="n">which</span><span class="p">(</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">day</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"26"</span><span class="p">,</span><span class="w"> </span><span class="s2">"27"</span><span class="p">)),</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">legend.position</span><span class="o">=</span><span class="s2">"none"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Longitude"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s2">"Latitude"</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s2">"Roadtrip 2016"</span><span class="p">)</span><span class="w">
</span><span class="n">roadtrip_map</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_text</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ann_text</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">labs</span><span class="p">),</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<hr />

<p><br /></p>

<p><img src="roadtrip2016_files/figure-markdown_github/unnamed-chunk-10-1.png" alt="" /></p>

<h3 id="road-trip-statistics">Road trip statistics</h3>

<h4 id="how-many-kilometers-did-we-drive">How many kilometers did we drive?</h4>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># removing duplicate entries
</span><span class="n">geodata_2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata_2</span><span class="p">[</span><span class="o">!</span><span class="n">duplicated</span><span class="p">(</span><span class="n">geodata_2</span><span class="p">),</span><span class="w"> </span><span class="p">]</span><span class="w">

</span><span class="c1"># Shifting vectors for latitude and longitude to include end position
</span><span class="n">shift.vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">){</span><span class="w">
  </span><span class="k">if</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="n">shift</span><span class="p">)){</span><span class="w">
    </span><span class="nf">rep</span><span class="p">(</span><span class="kc">NA</span><span class="w"> </span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">vec</span><span class="p">))</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">shift</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nf">c</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">),</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span><span class="o">-</span><span class="n">shift</span><span class="p">)])</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nf">c</span><span class="p">(</span><span class="n">vec</span><span class="p">[(</span><span class="nf">abs</span><span class="p">(</span><span class="n">shift</span><span class="p">)</span><span class="m">+1</span><span class="p">)</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">vec</span><span class="p">)],</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="n">shift</span><span class="p">)))</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">lat.p1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">shift.vec</span><span class="p">(</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">lon.p1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">shift.vec</span><span class="p">(</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w">

</span><span class="c1"># Calculating distances between points (in metres) with the function pointDistance from the 'raster' package.
</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w">
</span><span class="n">geodata_2</span><span class="o">$</span><span class="n">dist.to.prev</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">apply</span><span class="p">(</span><span class="n">geodata_2</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">FUN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">pointDistance</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">"lat.p1"</span><span class="p">])),</span><span class="w">
                  </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">"lon.p1"</span><span class="p">]))),</span><span class="w">
                </span><span class="nf">c</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">])),</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">"lon"</span><span class="p">]))),</span><span class="w">
                </span><span class="n">lonlat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w"> </span><span class="c1"># Parameter 'lonlat' has to be TRUE!
</span><span class="p">})</span><span class="w">
</span></code></pre>
</div>

<p>We drove approximately 3236.95 km in 18 days. Not counting the ~6 days where we stayed in one place and didn’t drive much, that’s around 269.75 km/ day.</p>

<hr />

<p><br /></p>

<h3 id="identifying-local-time">Identifying local time</h3>

<p>The time stamps are in CEST - Central European Summer Time. We arrived in the Central Time Zone (CDT) but spent the majority of our trip in Estern Time Zone (EDT).</p>

<p><br /></p>

<h4 id="converting-to-cdt-and-edt">Converting to CDT and EDT</h4>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">lubridate</span><span class="p">)</span><span class="w">

</span><span class="n">geodata</span><span class="o">$</span><span class="n">time_CDT</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">with_tz</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="o">=</span><span class="s2">"America/Chicago"</span><span class="p">)</span><span class="w">
</span><span class="n">geodata</span><span class="o">$</span><span class="n">time_EDT</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">with_tz</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="o">=</span><span class="s2">"America/New_York"</span><span class="p">)</span><span class="w">

</span><span class="c1"># extracting day for EDT
</span><span class="n">geodata</span><span class="o">$</span><span class="n">day_EDT</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">as.Date</span><span class="p">(</span><span class="n">geodata</span><span class="o">$</span><span class="n">time_EDT</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s2">"%Y-%m-%d"</span><span class="p">),</span><span class="w"> </span><span class="s2">"%d"</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<p><br /></p>

<h4 id="identifying-the-local-time-based-on-geocode">Identifying the local time based on geocode</h4>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># the days where we crossed time zones were the 10th and 23rd
</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">googleway</span><span class="p">)</span><span class="w">

</span><span class="n">geodata_timezone</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata</span><span class="w">
</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">local_time</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">

</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">nrow</span><span class="p">(</span><span class="n">geodata</span><span class="p">)){</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">nchar</span><span class="p">(</span><span class="n">strsplit</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="m">100</span><span class="p">),</span><span class="w"> </span><span class="s2">"\\."</span><span class="p">)[[</span><span class="m">1</span><span class="p">]][</span><span class="m">2</span><span class="p">]))){</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w">

  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">geodata</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s2">"day_EDT"</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"10"</span><span class="p">){</span><span class="w">
    </span><span class="n">data_row</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="n">google_timezone_api</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_timezone</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">data_row</span><span class="o">$</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">data_row</span><span class="o">$</span><span class="n">lon</span><span class="p">),</span><span class="w">
                                           </span><span class="n">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.POSIXct</span><span class="p">(</span><span class="n">data_row</span><span class="o">$</span><span class="n">time_EDT</span><span class="p">),</span><span class="w"> </span><span class="c1"># because the majority of our trip was in EDT
</span><span class="w">                                           </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AIzaSyBkqrk8mBqqvao-W-jKkL2VhHCGLWqZVCY"</span><span class="p">,</span><span class="w">
                                           </span><span class="n">simplify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w">
                                           </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en"</span><span class="p">)</span><span class="w">

    </span><span class="n">time_zone</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">google_timezone_api</span><span class="o">$</span><span class="n">timeZoneId</span><span class="w">

    </span><span class="n">local_time</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="n">with_tz</span><span class="p">(</span><span class="n">data_row</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="n">time_zone</span><span class="p">)))</span><span class="w">

    </span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">local_time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.character</span><span class="p">(</span><span class="n">local_time</span><span class="p">)</span><span class="w">

    </span><span class="n">rm</span><span class="p">(</span><span class="n">data_row</span><span class="p">,</span><span class="w"> </span><span class="n">google_timezone_api</span><span class="p">,</span><span class="w"> </span><span class="n">time_zone</span><span class="p">)</span><span class="w">

  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">

    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">geodata</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s2">"day_EDT"</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"09"</span><span class="p">){</span><span class="w">
      </span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">local_time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">time_CDT</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">local_time</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">time_EDT</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<hr />

<p><br /></p>

<h3 id="plotting-elevation">Plotting elevation</h3>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">theme_set</span><span class="p">(</span><span class="n">theme_bw</span><span class="p">())</span><span class="w"> </span><span class="c1"># Change the theme to my preference
</span><span class="w">
</span><span class="n">labels</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"9"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"9th, Chicago"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10th, St. Joseph"</span><span class="p">,</span><span class="w"> </span><span class="s2">"11"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"11th, Ann Arbor"</span><span class="p">,</span><span class="w"> </span><span class="s2">"12"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"12th, Detroit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"13"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"13th, Burlington"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"14"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"14th, Burlington"</span><span class="p">,</span><span class="w"> </span><span class="s2">"15"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"15th, Toronto"</span><span class="p">,</span><span class="w"> </span><span class="s2">"16"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"16th, Niagara &amp; Ashtabula"</span><span class="p">,</span><span class="w"> </span><span class="s2">"17"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"17th, Pittsburgh"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"18"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"18th, Pittsburgh"</span><span class="p">,</span><span class="w"> </span><span class="s2">"19"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"19th, Marietta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"20"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"20th, Maysville"</span><span class="p">,</span><span class="w"> </span><span class="s2">"21"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"21st, Louisville"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"22"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"22nd, Louisville"</span><span class="p">,</span><span class="w"> </span><span class="s2">"23"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"23rd, Paducah"</span><span class="p">)</span><span class="w">

</span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.POSIXlt</span><span class="p">(</span><span class="n">local_time</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ele</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_timezone</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">facet_wrap</span><span class="p">(</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">day_EDT</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">scales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"free_x"</span><span class="p">,</span><span class="w"> </span><span class="n">labeller</span><span class="o">=</span><span class="n">labeller</span><span class="p">(</span><span class="n">day_EDT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">labels</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Local Time"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s2">"Elevation"</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s2">"Elevation per day and time"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="roadtrip2016_files/figure-markdown_github/unnamed-chunk-14-1.png" alt="" /></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">day_df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">row.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">),</span><span class="w">
                     </span><span class="n">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">),</span><span class="w">
                     </span><span class="n">xmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">))),</span><span class="w">
                     </span><span class="n">xmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">))),</span><span class="w">
                     </span><span class="n">ymin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="o">-</span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">))),</span><span class="w">
                     </span><span class="n">ymax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">))))</span><span class="w">

</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">day</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">unique</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">)){</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">day</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"23"</span><span class="p">){</span><span class="w">
    </span><span class="n">day_df</span><span class="p">[</span><span class="n">paste</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">day</span><span class="p">)[</span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="n">day_df</span><span class="p">[</span><span class="n">paste</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">day</span><span class="p">))</span><span class="m">+1</span><span class="p">)[</span><span class="m">1</span><span class="p">]</span><span class="m">-1</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">day_df</span><span class="p">[</span><span class="n">paste</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">day</span><span class="p">)[</span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="n">day_df</span><span class="p">[</span><span class="n">paste</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">nrow</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">seq_along</span><span class="p">(</span><span class="n">ele</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ele</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geodata_timezone</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_rect</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">day_df</span><span class="p">,</span><span class="w"> </span><span class="n">inherit.aes</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w">
           </span><span class="n">aes</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="n">xmin</span><span class="p">,</span><span class="w"> </span><span class="n">xmax</span><span class="o">=</span><span class="n">xmax</span><span class="p">,</span><span class="w"> </span><span class="n">ymin</span><span class="o">=</span><span class="n">ymin</span><span class="p">,</span><span class="w"> </span><span class="n">ymax</span><span class="o">=</span><span class="n">ymax</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">group</span><span class="p">)),</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1">#annotate("rect", xmin=0, xmax=0, ymin=-Inf, ymax=0, fill="red", alpha=0.5) +
</span><span class="w">  </span><span class="n">geom_path</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Index"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s2">"Elevation (line) and day (rectangles)"</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s2">"Elevation per day"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">limits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">ele</span><span class="p">,</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">)))),</span><span class="w"> 
                                </span><span class="nf">max</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">ele</span><span class="p">,</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_timezone</span><span class="o">$</span><span class="n">day_EDT</span><span class="p">))))))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_fill_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Days"</span><span class="p">,</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">labels</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="roadtrip2016_files/figure-markdown_github/unnamed-chunk-15-1.png" alt="" /></p>

<hr />

<p><br /></p>

<h2 id="extracting-speed-data-from-the-gpx-files">Extracting speed data from the gpx files</h2>

<p>Looking at the gpx file, there is also speed and course data. It is saved into the extensions tag. However, not all data points seem to have a speed tag.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">myfiles</span><span class="p">)){</span><span class="w">

  </span><span class="n">tryCatch</span><span class="p">({</span><span class="w">
    </span><span class="n">singleString</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">paste</span><span class="p">(</span><span class="n">readLines</span><span class="p">(</span><span class="n">myfiles</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="w"> </span><span class="n">collapse</span><span class="o">=</span><span class="s2">" "</span><span class="p">)</span><span class="w">
    </span><span class="n">pfile2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">gsub</span><span class="p">(</span><span class="s2">"&lt;/time&gt;&lt;extensions&gt;&lt;gpxtpx:TrackPointExtension&gt;&lt;gpxtpx:course&gt;"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"&lt;/time&gt;&lt;extensions&gt;&lt;gpxtpx:TrackPointExtension&gt;&lt;gpxtpx:speed&gt;0.00&lt;/gpxtpx:speed&gt;&lt;gpxtpx:course&gt;"</span><span class="p">,</span><span class="w"> </span><span class="n">singleString</span><span class="p">)</span><span class="w">

    </span><span class="n">pfile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">htmlTreeParse</span><span class="p">(</span><span class="n">pfile2</span><span class="p">,</span><span class="w"> </span><span class="n">useInternalNodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w">

    </span><span class="c1"># Get all elevations, times and coordinates via the respective xpath
</span><span class="w">    </span><span class="n">times</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt/time"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlValue</span><span class="p">)</span><span class="w">
    </span><span class="n">coords</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlAttrs</span><span class="p">)</span><span class="w">
    </span><span class="c1"># Extract latitude and longitude from the coordinates
</span><span class="w">    </span><span class="n">lats</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">,]))</span><span class="w">
    </span><span class="n">lons</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="s2">"lon"</span><span class="p">,]))</span><span class="w">

    </span><span class="n">speed</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt/extensions/*/speed"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlValue</span><span class="p">)</span><span class="c1"># in m/s
</span><span class="w">    
    </span><span class="c1"># course gives the degrees where the car was headed at that point
</span><span class="w">    </span><span class="n">course</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">xpathSApply</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//trkpt/extensions/*/course"</span><span class="p">,</span><span class="w"> </span><span class="n">xmlValue</span><span class="p">)</span><span class="w">
    </span><span class="c1"># Put everything in a dataframe and get rid of old variables
</span><span class="w">    </span><span class="n">geodf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lats</span><span class="p">,</span><span class="w"> </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lons</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">speed</span><span class="p">,</span><span class="w"> </span><span class="n">course</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">course</span><span class="p">)</span><span class="w">

    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="p">){</span><span class="w">
      </span><span class="n">geodata_new</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodf</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">geodata_new</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rbind</span><span class="p">(</span><span class="n">geodata_new</span><span class="p">,</span><span class="w"> </span><span class="n">geodf</span><span class="p">)</span><span class="w">
    </span><span class="p">}</span><span class="w">

    </span><span class="n">rm</span><span class="p">(</span><span class="n">pfile</span><span class="p">,</span><span class="w"> </span><span class="n">pfile2</span><span class="p">,</span><span class="w"> </span><span class="n">singleString</span><span class="p">)</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="n">error</span><span class="o">=</span><span class="k">function</span><span class="p">(</span><span class="n">e</span><span class="p">){</span><span class="n">cat</span><span class="p">(</span><span class="s2">"ERROR\n"</span><span class="p">)})</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="c1"># Transforming the time column
</span><span class="n">geodata_new</span><span class="o">$</span><span class="n">time</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">strptime</span><span class="p">(</span><span class="n">geodata_new</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"%Y-%m-%dT%H:%M:%SZ"</span><span class="p">)</span><span class="w">

</span><span class="c1"># ordering by date
</span><span class="n">geodata_new</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">arrange</span><span class="p">(</span><span class="n">geodata_new</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span><span class="w">

</span><span class="c1"># removing all tracks from Germany
</span><span class="n">geodata_new_trip</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata_new</span><span class="p">[</span><span class="n">which</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_new</span><span class="o">$</span><span class="n">lon</span><span class="p">))</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">),]</span><span class="w">

</span><span class="c1"># adding a column with day for separating the plotting by day lateron
</span><span class="n">geodata_new_trip</span><span class="o">$</span><span class="n">day</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">as.Date</span><span class="p">(</span><span class="n">geodata_new_trip</span><span class="o">$</span><span class="n">time</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s2">"%Y-%m-%d"</span><span class="p">),</span><span class="w"> </span><span class="s2">"%d"</span><span class="p">))</span><span class="w">

</span><span class="n">head</span><span class="p">(</span><span class="n">geodata_new_trip</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>##            lat      lon                time speed course day
## 35664 41.98135 -87.8818 2016-09-09 19:23:53  0.00   0.00  09
## 35665 41.98135 -87.8818 2016-09-09 19:23:53  0.00   0.00  09
## 35666 41.98135 -87.8818 2016-09-09 19:23:53  0.00   0.00  09
## 35667 41.98135 -87.8818 2016-09-09 19:23:53  0.00   0.00  09
## 35668 41.98135 -87.8818 2016-09-09 19:23:53  0.00   0.00  09
## 35669 41.98135 -87.8818 2016-09-09 19:23:53  0.00   0.00  09
</code></pre>
</div>

<p><br /></p>

<p>Garmin shows speed as m/s, so I am converting it to km/h.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">yarrr</span><span class="p">)</span><span class="w">

</span><span class="n">geodata_new_trip</span><span class="o">$</span><span class="n">speed_kmh</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_new_trip</span><span class="o">$</span><span class="n">speed</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="m">3.6</span><span class="w">

</span><span class="n">speed_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">geodata_new_trip</span><span class="p">[</span><span class="n">which</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">geodata_new_trip</span><span class="o">$</span><span class="n">speed_kmh</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">),]</span><span class="w">
</span><span class="n">speed_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">speed_data</span><span class="p">[</span><span class="o">!</span><span class="n">duplicated</span><span class="p">(</span><span class="n">speed_data</span><span class="p">),</span><span class="w"> </span><span class="p">]</span><span class="w">

</span><span class="n">summary</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">speed_data</span><span class="o">$</span><span class="n">speed_kmh</span><span class="p">)))</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   4.932  24.700  44.460  49.210  69.190 128.500
</code></pre>
</div>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">pirateplot</span><span class="p">(</span><span class="n">formula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">speed_kmh</span><span class="p">))</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">as.factor</span><span class="p">(</span><span class="n">day</span><span class="p">),</span><span class="w">
           </span><span class="n">point.o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">.1</span><span class="p">,</span><span class="w">
           </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">speed_data</span><span class="p">,</span><span class="w">
           </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Speed (km/h)"</span><span class="p">,</span><span class="w">
           </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Day in September"</span><span class="p">,</span><span class="w">
           </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Speed per day"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p><img src="roadtrip2016_files/figure-markdown_github/unnamed-chunk-18-1.png" alt="" /></p>

<hr />

<p><br /></p>

<h2 id="photos">Photos</h2>

<p>And finally some photos from our trip. Their locations are marked on the map below:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">myphotos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">list.files</span><span class="p">(</span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"."</span><span class="p">,</span><span class="w"> </span><span class="n">full.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">myphotos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">myphotos</span><span class="p">[</span><span class="n">grep</span><span class="p">(</span><span class="s2">"jpg"</span><span class="p">,</span><span class="w"> </span><span class="n">myphotos</span><span class="p">)]</span><span class="w"> 

</span><span class="n">library</span><span class="p">(</span><span class="n">exif</span><span class="p">)</span><span class="w">

</span><span class="n">photo_geotags</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">row.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gsub</span><span class="p">(</span><span class="s2">"./"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">myphotos</span><span class="p">),</span><span class="w"> </span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">myphotos</span><span class="p">)),</span><span class="w"> </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NA</span><span class="p">)</span><span class="w">

</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">gsub</span><span class="p">(</span><span class="s2">"./"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">myphotos</span><span class="p">)){</span><span class="w">
  </span><span class="n">photodata</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read_exif</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="w">
  </span><span class="n">lat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">photodata</span><span class="o">$</span><span class="n">latitude</span><span class="w">
  </span><span class="n">lon</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">photodata</span><span class="o">$</span><span class="n">longitude</span><span class="w">
  </span><span class="n">photo_geotags</span><span class="p">[</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="o">$</span><span class="n">lat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lat</span><span class="w">
  </span><span class="n">photo_geotags</span><span class="p">[</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="o">$</span><span class="n">lon</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lon</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">photo_geotags</span><span class="o">$</span><span class="n">text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="n">nrow</span><span class="p">(</span><span class="n">photo_geotags</span><span class="p">))</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">ggmap</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggrepel</span><span class="p">)</span><span class="w">

</span><span class="n">bc_bbox</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">make_bbox</span><span class="p">(</span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">photo_geotags</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">.10</span><span class="p">)</span><span class="w">
</span><span class="n">map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">get_map</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bc_bbox</span><span class="p">,</span><span class="w"> </span><span class="n">maptype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"roadmap"</span><span class="p">)</span><span class="w"> 

</span><span class="n">ggmap</span><span class="p">(</span><span class="n">map</span><span class="p">,</span><span class="w"> </span><span class="n">darken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="s2">"white"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">photo_geotags</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">legend.position</span><span class="o">=</span><span class="s2">"none"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Longitude"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s2">"Latitude"</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s2">"Roadtrip 2016"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_text_repel</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">text</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">photo_geotags</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<p><img src="roadtrip2016_files/figure-markdown_github/photos.png" alt="" /></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160910_103018.jpg" alt="1" />
<em>Photo number 1</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160910_145027.jpg" alt="2" />
<em>Photo number 2</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160910_150727.jpg" alt="3" />
<em>Photo number 3</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160910_184320.jpg" alt="4" />
<em>Photo number 4</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160911_082319.jpg" alt="5" />
<em>Photo number 5</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160911_083539.jpg" alt="6" />
<em>Photo number 6</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160912_092912.jpg" alt="7" />
<em>Photo number 7</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160912_092947.jpg" alt="8" />
<em>Photo number 8</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160912_113839.jpg" alt="9" />
<em>Photo number 9</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160912_164110.jpg" alt="10" />
<em>Photo number 10</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160913_133745.jpg" alt="11" />
<em>Photo number 11</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160913_135424.jpg" alt="12" />
<em>Photo number 12</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160915_113309.jpg" alt="13" />
<em>Photo number 13</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160915_121038.jpg" alt="14" />
<em>Photo number 14</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160915_160715.jpg" alt="15" />
<em>Photo number 15</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160916_113314.jpg" alt="16" />
<em>Photo number 16</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160916_143748.jpg" alt="17" />
<em>Photo number 17</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160917_133657.jpg" alt="18" />
<em>Photo number 18</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160918_102429.jpg" alt="19" />
<em>Photo number 19</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160918_105942.jpg" alt="20" />
<em>Photo number 20</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160919_135834.jpg" alt="21" />
<em>Photo number 21</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160919_135948_001.jpg" alt="22" />
<em>Photo number 22</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160919_180049.jpg" alt="23" />
<em>Photo number 23</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160919_180224.jpg" alt="24" />
<em>Photo number 24</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160920_113007.jpg" alt="25" />
<em>Photo number 25</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160920_133646.jpg" alt="26" />
<em>Photo number 26</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160920_133922.jpg" alt="27" />
<em>Photo number 27</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160921_123419.jpg" alt="28" />
<em>Photo number 28</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160921_123621.jpg" alt="29" />
<em>Photo number 29</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160921_192418.jpg" alt="30" />
<em>Photo number 30</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160921_192701.jpg" alt="31" />
<em>Photo number 31</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160922_192452.jpg" alt="32" />
<em>Photo number 32</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160922_215704.jpg" alt="33" />
<em>Photo number 33</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160924_142213.jpg" alt="34" />
<em>Photo number 34</em></p>

<p><img src="roadtrip2016_files/figure-markdown_github/20160926_140318.jpg" alt="35" />
<em>Photo number 35</em></p>

    </div>

  
    <ul class="tag_box inline">
      <li><i class="glyphicon glyphicon-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#maps-ref">
    		maps <span>3</span>
    	</a></li>
     
    	<li><a href="/categories.html#gpx-ref">
    		gpx <span>1</span>
    	</a></li>
    
  


    </ul>
    

  
    <ul class="tag_box inline">
      <li><i class="glyphicon glyphicon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#maps-ref">maps <span>4</span></a></li>
     
    	<li><a href="/tags.html#gpx-ref">gpx <span>2</span></a></li>
     
    	<li><a href="/tags.html#ggplot2-ref">ggplot2 <span>32</span></a></li>
     
    	<li><a href="/tags.html#ggmap-ref">ggmap <span>4</span></a></li>
     
    	<li><a href="/tags.html#XML-ref">XML <span>1</span></a></li>
     
    	<li><a href="/tags.html#Google_maps-ref">Google_maps <span>1</span></a></li>
     
    	<li><a href="/tags.html#API-ref">API <span>1</span></a></li>
    
  



    </ul>
    
  
    <hr>
    <ul class="pagination">
    
      <li class="prev"><a href="/rna-seq/deseq2/teaching/2016/09/29/DESeq2-course" title="DESeq2 Course Work">&laquo; Previous</a></li>
    
      <li><a href="/archive.html">Archive</a></li>
    
      <li class="next"><a href="/genome/2016/10/23/AnnotationDbi" title="Exploring the human genome (Part 1) - Gene Annotations">Next &raquo;</a></li>
    
    </ul>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    
    var disqus_developer = 1;
    var disqus_shortname = 'shirinsplayground'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>

    </div>
	  
	   



	  
  </body>

<div class="footer">
    <div id="footer">
      <div class="container">
        <p>&copy; 2017 Shirin Glander
		<a href="mailto:shirin.glander@gmail.com"><img src="http://localhost:4000/assets/images/200px-Email_Shiny_Icon.png" /></a>
		<a href="http://stackoverflow.com/users/6623620/shirin-glander"><img src="http://localhost:4000/assets/images/so-logo.png" /></a>
		<a href="https://github.com/ShirinG"><img src="http://localhost:4000/assets/images/GitHub_Logo.png" /></a>
		<a href="http://www.xing.com/profile/Shirin_Glander"><img src="http://localhost:4000/assets/images/xing.png" /></a>
		<a href="http://de.linkedin.com/in/shirin-glander-01120881"><img src="http://localhost:4000/assets/images/Logo-2C-101px-R.png" /></a>
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
        </p>
      </div>
    </div>
	
    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
</div>
</html>

